<!DOCTYPE html>
<div id=A onclick=slide()><button>Click me for nothing</button></div>

<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <link rel="stylesheet" href="/css/home.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HubN</title>
</head>
<body>
    <h1>HubN</h1>

    <div class= center>
        <h2>placeholder</h2>

        <form action="/submitPost" method="POST" class="postSubmission">
            <div class=postbox>
                <input type="text" id="author" name="author" class="fancyText" placeholder="Author"><br>
                <textarea name="code" id="code" cols="75" rows="5" class="codeText" placeholder="Code"></textarea><br>
                <textarea name="summary" id="summary" cols="75" rows="5" class="fancyText" placeholder="Summary"></textarea><br>
                <input type="submit" value="Post" class="button-fancy">
            </div>
            <div class=subpostbox></div>
        </form>
    </div>

    <script>
        A=document.getElementById`A`
        A.style.position='absolute'
        f=1
        function slide(){
        f=1-f
        t=0
        a=setInterval(function(){
        t++;
        A.style.left=(!f?(100-100/(1+t)):0)+"px";
        if(t > 80 && f == 0){
        A.style.left='100px';
        clearInterval(a)
        }
        })


        }
			function display(author,code,summary){
			Author=document.getElementById`aout`
            A=Array(author.length).fill(0).map((x,e)=>[author[e],code[e],summary[e]].join`\n`).join`\n\n`

			Author.innerText=A
		}
        
        const xhttp = new XMLHttpRequest();

        xhttp.onload = function(){
            let lines = this.responseText.split('\n');
            let mAuthor = lines[0].split(',');
            let mCode = lines[1].split(',');
            let mSummary = lines[2].split(',');
			display(mAuthor,mCode,mSummary)
        }

        xhttp.open("GET", "/getPosts");
        xhttp.send();
    </script>

</body>
</html>
