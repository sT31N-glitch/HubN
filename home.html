<!DOCTYPE html>
<div id=A onclick=slide()><button>Click me for nothing</button></div>

<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <link rel="stylesheet" href="/css/home.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HubN</title>
</head>
<body>
    <h1>HubN</h1>

    <div class= center>
        <div id="authorDisplay" class="fancyText"></div>
        <div id="codeDisplay" class="codeText"></div>
        <div id="summaryDisplay" class="fancyText"></div>

        <form action="/submitPost" method="POST" class="postSubmission">
            <div class=postbox>
                <input type="text" id="author" name="author" class="fancyText" placeholder="Author"><br>
                <textarea name="code" id="code" cols="75" rows="5" class="codeText" placeholder="Code"></textarea><br>
                <textarea name="summary" id="summary" cols="75" rows="5" class="fancyText" placeholder="Summary"></textarea><br>
                <input type="submit" value="Post" class="button-fancy">
            </div>
            <div class=subpostbox></div>
        </form>
    </div>

    <script>
        const xhttp = new XMLHttpRequest();

        xhttp.onload = function(){
            let lines = this.responseText.split('|#|');
            console.log(lines[1]);
            let mAuthor = lines[0].split(',');
            let mCode = lines[1].split(',');
            let mSummary = lines[2].split(',');

            console.log(mCode[0]);

            let rand = Math.floor(Math.random() * mAuthor.length);
            console.log(rand);
            document.getElementById('authorDisplay').innerText = mAuthor[rand];
            document.getElementById('codeDisplay').innerHTML = mCode[rand].replace('\n', '<br>');
            document.getElementById('summaryDisplay').innerText = mSummary[rand];
        }

        xhttp.open("GET", "/getPosts");
        xhttp.send();
    </script>

</body>
</html>
